# -- types

- template: .make/gotpl/types_type.gotpl
  out: "pkg/types/{{ .Type.Name }}_.go"
  typeFlags:
    or: [all]
#  typeNames:
#    or:
#    - BoolFilter
#    - Cache
#    - CacheStage
#    - CreateWhateversRequest
#    - CreateWhateversResponse
#    - CreateWhateversResponseSelect
#    - DeleteWhateversRequest
#    - DeleteWhateversResponse
#    - DeleteWhateversResponseSelect
#    - DurationScalar
#    - DurationUnit
#    - DurationValue
#    - Endpoint
#    - Error
#    - ErrorKind
#    - FloatFilter
#    - GetWhateverByIdRequest
#    - GetWhateverByIdResponse
#    - GetWhateverByIdResponseSelect
#    - GetWhateverListByIdRequest
#    - GetWhateverListByIdResponse
#    - GetWhateverListByIdResponseSelect
#    - GetWhateversRequest
#    - GetWhateversResponse
#    - GetWhateversResponseSelect
#    - Id
#    - IdKind
#    - ModifyWhateverListRequest
#    - ModifyWhateverListResponse
#    - ModifyWhateverListResponseSelect
#    - RequestMeta
#    - ResponseMeta
#    - Service
#    - ServiceId
#    - ServicePorts
#    - SortKind
#    - StreamKind
#    - GetWhateversRequest
#    - GetWhateversResponse
#    - GetWhateversResponseSelect
#    - StringFilter
#    - TypeMeta
#    - TypeMetaFilter
#    - TypeMetaSelect
#    - TypeMetaSort
#    - TypeState
#    - UpdateWhateversRequest
#    - UpdateWhateversResponse
#    - UpdateWhateversResponseSelect
#    - Url
#    - Whatever
#    - WhateverFilter
#    - WhateverKind
#    - WhateverKindFilter
#    - WhateverSort
#    - WhateversSelect
#    - WhateverUnion
#    - WhateverUnionFilter
#    - WhateverUnionKind
#    - WhateverUnionKindFilter
#    - WhateverUnionSelect
#    - WhateverUnionSort
#    - WhateverUnionSelect
  iterate: true

- template: .make/gotpl/types_requestname_to_endpointkind.gotpl
  out: "pkg/types/0requestname_to_endpointkind_.go"
  endpointFlags:
    or: [all]
  iterate: false

- template: .make/gotpl/clients_handler.gotpl
  out: "pkg/communication/clients/handler_.go"
  endpointFlags:
    or: [all]
  iterate: false

- template: .make/gotpl/types_abstract_clienthandler.gotpl
  out: "pkg/types/abstract/ClientHandler_.go"
  endpointFlags:
    or: [all]
  iterate: false

# -- persistence

- template: .make/gotpl/persistence_cache_memory.gotpl
  out: "pkg/persistence/cache/memory/memory_.go"
  typeFlags:
    or: [isResponse]
  iterate: false

# gqlgen

#- template: .make/gotpl/graphql_gqlgen_mapping.gotpl
#  out: "pkg/communication/protocols/graphql/gqlgen/mapping/{{ .Type.Name }}_.go"
#  what: types
#  typeFlagsOr: [all]
#  iterate: true
#
#- template: .make/gotpl/graphql_gqlgen_resolvers.gotpl
#  out: pkg/communication/protocols/graphql/gqlgen/server/resolvers_.go
#  what: endpoints
#  typeFlagsOr: [getDefaultEndpoints]
#  iterate: false

# proto2

- template: .make/gotpl/grpc_proto2_handler.gotpl
  out: pkg/communication/protocols/grpc/proto2/Handler_.go
  endpointFlags:
    or: [all]
  iterate: false

- template: .make/gotpl/grpc_proto2_server.gotpl
  out: pkg/communication/protocols/grpc/proto2/server_.go
  endpointFlags:
    or: [all]
  iterate: false